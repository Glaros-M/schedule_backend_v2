<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Загрузка расписания</title>
</head>
<body>
<div id="preloader" style="visibility: hidden; position:absolute; background-color: rgba(100, 100, 100, 0.5); text-align:center; left: 0; top:0; width: 100%; height:100%">
    <div style="height:100%;">
        <img src="static/pr.gif" style="position: relative; top:30%"/><br/>
    </div>
</div>
<div class="content" style="margin:0 25% 0 25%;">
    <h1>Форма для загрузки расписания</h1>
    {% if status %}
    <div>
        <h2>{{status}}</h2>
        {% if file_name %}
        <p>Расписание для {{entry_point}} успешно загружено из файла {{file_name}}</p>
        {% endif %}
        <p>{{description}}</p>
    </div>
    {% endif %}
    <form action={{post_addr}} enctype="multipart/form-data" method="post" target="_self">
        <p>Выберите тип загружаемого файла (СПО, ВО, Заочное):</p>
        <select id="entry_point" name="entry_point">
            <option value=spo>СПО</option>
            <option value=vo>Высшее образование</option>
            <option value=z>Заочное</option>
        </select>
        <p>Выберите JSON файл для загрузки:</p>
        <input id="finput" type="file" name="file" accept=".json" required>

        <p>
            <button type="submit" onclick="showPreloader()" id="UploadButton">Загрузить</button>
        </p>
    </form>
</div>

<script>
    function showPreloader(){
       if(document.getElementById("finput").files[0] != undefined){
        document.getElementById("preloader").style.visibility = 'visible';
        }
    }
</script>

</body>
</html>


